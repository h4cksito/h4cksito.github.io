import{r as d,a as D,R as M}from"./vendor-b1791c80.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();var L={exports:{}},v={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P=d,q=Symbol.for("react.element"),J=Symbol.for("react.fragment"),z=Object.prototype.hasOwnProperty,H=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F={key:!0,ref:!0,__self:!0,__source:!0};function I(o,e,r){var a,t={},s=null,c=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(c=e.ref);for(a in e)z.call(e,a)&&!F.hasOwnProperty(a)&&(t[a]=e[a]);if(o&&o.defaultProps)for(a in e=o.defaultProps,e)t[a]===void 0&&(t[a]=e[a]);return{$$typeof:q,type:o,key:s,ref:c,props:t,_owner:H.current}}v.Fragment=J;v.jsx=I;v.jsxs=I;L.exports=v;var i=L.exports,b={},N=D;b.createRoot=N.createRoot,b.hydrateRoot=N.hydrateRoot;class K{constructor(){this.state={player:{x:2,y:2,health:100,score:0},map:this.generateMap(),inventory:[],gameStarted:!1,currentRoom:null},this.loadState()}generateMap(){const e=Array(5).fill(null).map(()=>Array(5).fill(null));return e[2][2]={description:"Est√°s en una c√°mara central d√©bilmente iluminada. Hay pasillos en todas las direcciones.",items:[]},e[1][2]={description:"Una biblioteca polvorienta con tomos antiguos alineados en las paredes.",items:["libro","vela"]},e[3][2]={description:"Una cocina con el olor de comida vieja flotando en el aire.",items:["pan","cuchillo"]},e[2][1]={description:"Una sala del tesoro con monedas doradas esparcidas por el suelo.",items:["oro","gema"]},e[2][3]={description:"Un corredor oscuro que parece extenderse infinitamente.",items:["antorcha"]},e}getCurrentRoom(){const{x:e,y:r}=this.state.player;return this.state.map[e]&&this.state.map[e][r]?this.state.map[e][r]:null}saveState(){try{const e=JSON.stringify({version:1,state:this.state});return localStorage.setItem("gameConsole_save",e),!0}catch(e){return console.error("Error al guardar:",e),!1}}loadState(){try{const e=localStorage.getItem("gameConsole_save");if(e){const r=JSON.parse(e),a=(r==null?void 0:r.state)??r;return this.state={...this.state,...a},!0}}catch(e){console.error("Error al cargar:",e)}return!1}reset(){this.state={player:{x:2,y:2,health:100,score:0},map:this.generateMap(),inventory:[],gameStarted:!1,currentRoom:null},localStorage.removeItem("gameConsole_save")}}class B{constructor(e){this.engine=e,this.commands=new Map}register(e){this.commands.set(e.name.toLowerCase(),e),e.aliases&&e.aliases.forEach(r=>{this.commands.set(r.toLowerCase(),e)})}execute(e,r){const a=e.trim().split(/\s+/),t=a[0].toLowerCase(),s=a.slice(1),c=this.commands.get(t);if(!c){r(`Comando desconocido: ${t}. Escribe 'ayuda' para ver los comandos disponibles.`,"error");return}try{const u=c.run({args:s,engine:this.engine,addOutput:r});u&&typeof u=="string"&&r(u)}catch(u){r(`Error ejecutando comando: ${u.message}`,"error")}}getCommands(){const e=new Map;return this.commands.forEach((r,a)=>{a===r.name&&e.set(a,r)}),Array.from(e.values())}getCommandNames(){return Array.from(this.commands.keys())}}const G=[{name:"iniciar",aliases:["empezar","start"],description:"Iniciar una nueva aventura",help:`Uso: iniciar
Comienza una nueva sesi√≥n de juego.`,run:({engine:o,addOutput:e})=>{o.state.gameStarted=!0,o.state.player={x:2,y:2,health:100,score:0},e("üéÆ ¬°Bienvenido, valiente aventurero!"),e("Tu b√∫squeda comienza en una antigua mazmorra..."),e('Escribe "mirar" para examinar tus alrededores o "ayuda" para ver comandos.')}},{name:"estado",aliases:["stats","status"],description:"Mostrar estado del jugador",help:`Uso: estado
Muestra la informaci√≥n actual del jugador.`,run:({engine:o,addOutput:e})=>{const{player:r,inventory:a}=o.state;e("üìä ESTADO DEL JUGADOR"),e(`Posici√≥n: (${r.x}, ${r.y})`),e(`Salud: ${r.health}/100`),e(`Puntuaci√≥n: ${r.score}`),e(`Inventario: ${a.length} objetos`)}},{name:"limpiar",aliases:["clear","cls"],description:"Limpiar la pantalla terminal",help:`Uso: limpiar
Borra toda la salida del terminal.`,run:()=>"CLEAR_SCREEN"}],V=[{name:"ir",aliases:["mover","move","m"],description:"Moverse en una direcci√≥n",help:`Uso: ir <direcci√≥n>
Direcciones: norte, sur, este, oeste (o n, s, e, o)`,run:({args:o,engine:e,addOutput:r})=>{if(!e.state.gameStarted){r('Primero inicia un juego con el comando "iniciar".');return}if(o.length===0){r("¬øHacia d√≥nde? (norte, sur, este, oeste)");return}const a=o[0].toLowerCase(),{player:t}=e.state;let s=t.x,c=t.y;switch(a){case"norte":case"n":case"north":s--;break;case"sur":case"s":case"south":s++;break;case"este":case"e":case"east":c++;break;case"oeste":case"o":case"west":c--;break;default:r("Direcci√≥n inv√°lida. Usa: norte, sur, este, oeste");return}if(s<0||s>=5||c<0||c>=5||!e.state.map[s][c]){r("No puedes ir por ah√≠. Solo hay oscuridad.");return}t.x=s,t.y=c,r(`Te mueves hacia el ${a}.`);const u=e.getCurrentRoom();u&&r(u.description)}},{name:"mirar",aliases:["examinar","look","l"],description:"Examinar tus alrededores",help:`Uso: mirar
Describe la ubicaci√≥n actual.`,run:({engine:o,addOutput:e})=>{if(!o.state.gameStarted){e('Primero inicia un juego con el comando "iniciar".');return}const r=o.getCurrentRoom();r?(e("üîç "+r.description),r.items.length>0?e(`Objetos aqu√≠: ${r.items.join(", ")}`):e("No hay objetos aqu√≠.")):e("Est√°s en un vac√≠o.")}},{name:"tomar",aliases:["coger","agarrar","take","get"],description:"Tomar un objeto",help:`Uso: tomar <objeto>
Recoge un objeto de la ubicaci√≥n actual.`,run:({args:o,engine:e,addOutput:r})=>{if(!e.state.gameStarted){r('Primero inicia un juego con el comando "iniciar".');return}if(o.length===0){r("¬øQu√© quieres tomar?");return}const a=o[0].toLowerCase(),t=e.getCurrentRoom();if(!t){r("No hay nada que tomar aqu√≠.");return}const s=t.items.findIndex(u=>u.toLowerCase()===a);if(s===-1){r(`No hay ${a} aqu√≠.`);return}const c=t.items.splice(s,1)[0];e.state.inventory.push(c),r(`Tomas ${c}.`),e.state.player.score+=10}},{name:"inventario",aliases:["inv","i","inventory"],description:"Mostrar tu inventario",help:`Uso: inventario
Lista todos los objetos que llevas.`,run:({engine:o,addOutput:e})=>{const{inventory:r}=o.state;e("üéí INVENTARIO"),r.length===0?e("Tu inventario est√° vac√≠o."):r.forEach((a,t)=>{e(`${t+1}. ${a}`)})}},{name:"usar",aliases:["use"],description:"Usar un objeto",help:`Uso: usar <objeto>
Intenta usar un objeto de tu inventario.`,run:({args:o,engine:e,addOutput:r})=>{if(!e.state.gameStarted){r('Primero inicia un juego con el comando "iniciar".');return}if(o.length===0){r("¬øQu√© quieres usar?");return}const a=o[0].toLowerCase(),{inventory:t}=e.state;if(!t.map(s=>s.toLowerCase()).includes(a)){r(`No tienes ${a}.`);return}switch(a){case"pan":e.state.player.health=Math.min(100,e.state.player.health+20),r("Comes el pan y te sientes renovado. +20 Salud"),e.state.inventory=t.filter(s=>s.toLowerCase()!=a);break;case"vela":r("La vela ilumina pasajes ocultos..."),e.state.player.score+=5;break;case"antorcha":r("La antorcha ilumina la oscuridad, revelando secretos."),e.state.player.score+=5;break;default:r(`No sabes c√≥mo usar ${a}.`)}}}],Y=[{name:"guardar",aliases:["save"],description:"Guardar tu juego",help:`Uso: guardar
Guarda tu progreso actual.`,run:({engine:o,addOutput:e})=>{o.saveState()?e("üíæ ¬°Juego guardado exitosamente!"):e("Error al guardar el juego.","error")}},{name:"cargar",aliases:["load"],description:"Cargar tu juego guardado",help:`Uso: cargar
Carga tu progreso guardado anteriormente.`,run:({engine:o,addOutput:e})=>{o.loadState()?e("üìÇ ¬°Juego cargado exitosamente!"):e("No se encontr√≥ un juego guardado.")}},{name:"reiniciar",aliases:["reset"],description:"Reiniciar el juego",help:`Uso: reiniciar
Reinicia el juego al estado inicial.`,run:({engine:o,addOutput:e})=>{o.reset(),e('üîÑ Juego reiniciado. Escribe "iniciar" para comenzar una nueva aventura.')}}],X=o=>[{name:"ayuda",aliases:["help","?"],description:"Mostrar comandos disponibles",help:`Uso: ayuda [comando]
Muestra todos los comandos o detalles de un comando espec√≠fico.`,run:({args:e,addOutput:r})=>{if(e.length===0)r("üìö COMANDOS DISPONIBLES:"),r(""),o.getCommands().forEach(a=>{r(`${a.name.padEnd(12)} - ${a.description}`)}),r(""),r('Escribe "ayuda <comando>" para informaci√≥n detallada.');else{const a=e[0].toLowerCase(),s=o.getCommands().find(c=>{var u;return c.name===a||((u=c.aliases)==null?void 0:u.includes(a))});s?(r(`üìñ AYUDA: ${s.name.toUpperCase()}`),r(""),r(s.help||s.description),s.aliases&&s.aliases.length>0&&r(`Alias: ${s.aliases.join(", ")}`)):r(`Comando desconocido: ${a}`)}}},{name:"acerca",aliases:["about","info"],description:"Acerca de este juego",help:`Uso: acerca
Muestra informaci√≥n sobre este juego terminal.`,run:({addOutput:e})=>{e("üéÆ AVENTURA TERMINAL v1.0"),e(""),e("Un juego de aventuras de texto estilo retro jugado a trav√©s de una interfaz terminal."),e("¬°Explora salas, recolecta objetos y descubre los misterios de la mazmorra!"),e(""),e("Controles:"),e("‚Ä¢ ‚Üë/‚Üì - Navegar historial de comandos"),e("‚Ä¢ Tab - Autocompletar comandos"),e("‚Ä¢ Ctrl+L - Limpiar pantalla"),e("‚Ä¢ Ctrl+K - Limpiar entrada")}}];function Q(o){const e=new B(o);return[...G,...V,...Y].forEach(r=>{e.register(r)}),X(e).forEach(r=>{e.register(r)}),e}const w={system:"text-[var(--dim-color)]",info:"text-[var(--dim-color)]",error:"text-red-500",command:"text-[var(--text-color)] opacity-80",output:"text-[var(--text-color)]"};function W({lines:o}){const e=d.useRef(null);return d.useEffect(()=>{var r;(r=e.current)==null||r.scrollIntoView({behavior:"smooth",block:"end"})},[o]),i.jsxs("div",{className:"terminal-output whitespace-pre-wrap leading-relaxed pr-2",role:"log","aria-live":"polite","aria-relevant":"additions",children:[o.map((r,a)=>i.jsx("div",{className:w[r.type]||w.output,children:r.text},a)),i.jsx("div",{ref:e})]})}function Z({value:o,onChange:e,onKeyDown:r,onSubmit:a}){return i.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i.jsx("span",{className:"text-[var(--dim-color)] select-none",children:"‚û§"}),i.jsx("input",{className:"flex-1 bg-transparent outline-none terminal-font caret-[var(--text-color)]",type:"text",value:o,onChange:t=>e(t.target.value),onKeyDown:t=>{t.key==="Enter"?a():r(t)},"aria-label":"Entrada de comandos",autoFocus:!0}),i.jsx("span",{className:"w-2 h-5 inline-block bg-[var(--text-color)] animate-cursor-blink","aria-hidden":!0})]})}function O({theme:o,onThemeChange:e,scanlines:r,onScanlinesChange:a}){return i.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--dim-color)]",children:[i.jsxs("label",{className:"flex items-center gap-2",children:["Tema:",i.jsxs("select",{className:"bg-transparent border border-[var(--border-color)] px-2 py-1 rounded-md",value:o,onChange:t=>e(t.target.value),children:[i.jsx("option",{value:"green",children:"Verde"}),i.jsx("option",{value:"amber",children:"√Åmbar"}),i.jsx("option",{value:"light",children:"Claro"})]})]}),i.jsxs("label",{className:"flex items-center gap-2",children:["Scanlines:",i.jsx("input",{type:"range",min:0,max:1,step:.05,value:r,onChange:t=>a(parseFloat(t.target.value))})]})]})}const ee=200,R=1e3,re=()=>{const[o,e]=d.useState([{text:"üöÄ Terminal ConsoleJuegos v1.0 inicializado...",type:"system",timestamp:new Date},{text:'Escribe "iniciar" para comenzar tu aventura o "ayuda" para ver comandos.',type:"info",timestamp:new Date}]),[r,a]=d.useState(""),[t,s]=d.useState([]),[c,u]=d.useState(-1),[f,C]=d.useState("green"),[p,j]=d.useState(.3),_=d.useRef(null),U=d.useRef(new K),S=d.useRef(Q(U.current));d.useEffect(()=>{try{const n=localStorage.getItem("gameConsole_theme"),l=localStorage.getItem("gameConsole_scanlines"),m=localStorage.getItem("gameConsole_history");n&&C(n),l&&j(parseFloat(l)),m&&s(JSON.parse(m))}catch(n){console.error("Error al cargar configuraci√≥n:",n)}},[]),d.useEffect(()=>{try{localStorage.setItem("gameConsole_theme",f),localStorage.setItem("gameConsole_scanlines",p.toString()),localStorage.setItem("gameConsole_history",JSON.stringify(t))}catch{}},[f,p,t]);const g=d.useCallback((n,l="output")=>{e(m=>{const h=[...m,{text:n,type:l,timestamp:new Date}];return h.length>R?h.slice(-R):h})},[]),E=d.useCallback(n=>{const l=n.trim();l&&(g(`$ ${l}`,"command"),S.current.execute(l,(m,h)=>{if(m==="CLEAR_SCREEN"){e([]);return}g(m,h||"output")}))},[g]),$=d.useCallback(()=>{const n=r;E(n),s(l=>{const m=l[l.length-1];return(n&&n!==m?[...l,n]:l).slice(-ee)}),u(-1),a("")},[r,E]),A=n=>{if(n.ctrlKey&&n.key.toLowerCase()==="l"){n.preventDefault(),e([]);return}if(n.ctrlKey&&n.key.toLowerCase()==="k"){n.preventDefault(),a("");return}if(n.key==="ArrowUp"){n.preventDefault(),u(l=>{const m=Math.min(l===-1?t.length:l,t.length-1),h=m<=0?0:m-1;return a(t[h]||""),h});return}if(n.key==="ArrowDown"){n.preventDefault(),u(l=>{if(l===-1)return-1;const m=l+1;return m>=t.length?(a(""),-1):(a(t[m]||""),m)});return}if(n.key==="Tab"){n.preventDefault();const l=S.current.getCommandNames(),m=r.trim();if(!m)return;const[h]=m.split(/\s+/,1),y=l.filter(x=>x.startsWith(h.toLowerCase())).sort((x,T)=>x.length-T.length);y.length===1?a(y[0]+(m.length>h.length?m.slice(h.length):" ")):y.length>1&&g(y.join("  "),"info")}},k=f==="green"?"theme-green":f==="amber"?"theme-amber":"theme-light";return i.jsxs("div",{className:`${k} min-h-[80vh] max-w-4xl mx-auto mt-8 p-4 sm:p-6 rounded-2xl border crt-glow scanlines`,style:{color:"var(--text-color)",background:"var(--bg-color)",borderColor:"var(--border-color)","--scanline-opacity":p},ref:_,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"ConsoleJuegos"}),i.jsx(O,{theme:f,onThemeChange:C,scanlines:p,onScanlinesChange:j})]}),i.jsx(W,{lines:o}),i.jsx(Z,{value:r,onChange:a,onKeyDown:A,onSubmit:$})]})};function ae(){return i.jsx("main",{className:"min-h-screen py-6 px-4 sm:px-8",children:i.jsx(re,{})})}b.createRoot(document.getElementById("root")).render(i.jsx(M.StrictMode,{children:i.jsx(ae,{})}));
